import{r as l,j as e,H as u,a as g}from"./app-BCZ861WS.js";import{A as j}from"./AuthenticatedLayout-BFu4DkEA.js";import"./transition-DFUGYbcn.js";function v({materiales:s,filters:a}){const[n,d]=l.useState(a.search||""),[o,x]=l.useState(a.filtro||"todos"),p=t=>{t.preventDefault(),g.get(route("inventario.index"),{search:n,filtro:o},{preserveState:!0})},r=t=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(t),i=t=>t.stock*t.precio_compra,c=()=>s.data.reduce((t,h)=>t+i(h),0),m=t=>t===0?"text-red-600 font-bold":t<10?"text-orange-600 font-semibold":"text-gray-900";return e.jsxs(j,{header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Inventario"}),e.jsxs("div",{className:"text-lg font-bold text-green-600",children:["Total Inventario: ",r(c())]})]}),children:[e.jsx(u,{title:"Inventario"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6 bg-white p-4 rounded-lg shadow",children:e.jsx("form",{onSubmit:p,className:"space-y-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",value:n,onChange:t=>d(t.target.value),placeholder:"Buscar material...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),e.jsxs("select",{value:o,onChange:t=>x(t.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"todos",children:"Todos"}),e.jsx("option",{value:"bajo_stock",children:"Stock Bajo (< 10)"}),e.jsx("option",{value:"sin_stock",children:"Sin Stock"})]}),e.jsxs("button",{type:"submit",className:"inline-flex items-center gap-2 px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition font-semibold",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Filtrar"]})]})})}),e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Material"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unidad"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock Actual"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio Compra"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio Venta"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor en Inventario"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.data&&s.data.length>0?s.data.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.nombre}),t.descripcion&&e.jsx("div",{className:"text-sm text-gray-500",children:t.descripcion})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.unidad_medida}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("span",{className:`text-sm ${m(t.stock)}`,children:t.stock}),t.stock===0&&e.jsx("span",{className:"ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Agotado"}),t.stock>0&&t.stock<10&&e.jsx("span",{className:"ml-2 px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800",children:"Bajo"})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:r(t.precio_compra)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-semibold",children:r(t.precio_venta)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900",children:r(i(t))})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-6 py-4 text-center text-gray-500",children:"No hay materiales en inventario"})})}),e.jsx("tfoot",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:"5",className:"px-6 py-3 text-right font-bold text-gray-900",children:"Total Valor Inventario:"}),e.jsx("td",{className:"px-6 py-3 text-xl font-bold text-green-600",children:r(c())})]})})]})}),s.links&&e.jsx("div",{className:"bg-gray-50 px-4 py-3 border-t border-gray-200 sm:px-6",children:e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{className:"text-sm text-gray-700",children:["Mostrando ",e.jsx("span",{className:"font-medium",children:s.from})," a"," ",e.jsx("span",{className:"font-medium",children:s.to})," de"," ",e.jsx("span",{className:"font-medium",children:s.total})," resultados"]})})})]})]})})]})}export{v as default};
